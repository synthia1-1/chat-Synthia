<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat Synthia - WhatsApp Style</title>
<style>
:root {
  --bg: #e5ddd5;
  --panel: #075e54;
  --me: #dcf8c6;
  --them: #ffffff;
  --accent: #25D366;
  --text: #000000;
  --muted: #8696a0;
}
* { box-sizing:border-box; margin:0; padding:0; }
body { font-family: Arial, sans-serif; background:var(--bg); display:flex; justify-content:center; align-items:center; height:100vh; }
.container { width:100%; max-width:460px; height:90vh; border-radius:16px; overflow:hidden; display:flex; flex-direction:column; box-shadow:0 20px 60px rgba(0,0,0,.3); background:var(--bg); }
.header { background:var(--panel); color:#fff; padding:10px 14px; display:flex; align-items:center; gap:10px; }
.header .avatar { width:36px; height:36px; border-radius:50%; background:#ffffff; display:grid; place-items:center; color:#000; font-weight:700; }
.header .title { display:flex; flex-direction:column; line-height:1.15; }
.header .title b { font-size:14px; }
.header .title span { font-size:12px; color:#d4f0e3; }
.chat { flex:1; overflow-y:auto; padding:12px; display:flex; flex-direction:column; }
.row { display:flex; margin:6px 0; }
.row.them { justify-content:flex-start; }
.row.me { justify-content:flex-end; }
.bubble { max-width:75%; padding:10px 14px; border-radius:18px; font-size:14px; line-height:1.35; position:relative; opacity:0; transform:translateY(20px); animation:fadeInUp 0.4s forwards; word-wrap:break-word; }
.them .bubble { background:var(--them); color:var(--text); border-bottom-left-radius:0; }
.me .bubble { background:var(--me); color:#000; border-bottom-right-radius:0; }
@keyframes fadeInUp { to { opacity:1; transform:translateY(0); } }
.time { display:block; font-size:11px; color:#999; margin-top:4px; text-align:right; opacity:.85; }
input { flex:1; padding:10px; border-radius:18px; border:1px solid #ccc; font-size:16px; }
button.option { margin-top:6px; padding:8px 12px; border:none; border-radius:18px; cursor:pointer; background:#128C7E; font-weight:600; color:#fff; margin-right:6px; }
.cta-bar { display:none; position:sticky; bottom:0; padding:10px; background:var(--bg); }
.btn { width:100%; padding:12px; border:none; border-radius:18px; font-weight:800; background:var(--accent); color:#0b141a; cursor:pointer; }
.btn:hover { filter:brightness(1.05); }
.send-btn { margin-left:6px; padding:0 14px; border:none; border-radius:18px; background:#128C7E; color:#fff; font-weight:600; cursor:pointer; }
.send-btn:hover { filter:brightness(1.05); }
.typing-dot { display:inline-block; width:6px; height:6px; margin:0 1px; background:#fff; border-radius:50%; animation:blink 1s infinite; }
@keyframes blink { 0%, 20%, 50%, 80%, 100% { opacity:0; } 40% { opacity:1; } 60% { opacity:1; } }
</style>

<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '632209706612628');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=632209706612628&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

</head>
<body>
<div class="container">
<div class="header">
  <div class="avatar">S</div>
  <div class="title">
    <b>Synthia</b>
    <span id="typing">online</span>
  </div>
</div>
<div id="chat" class="chat" aria-live="polite"></div>
<div class="cta-bar" id="finalCTA">
  <a id="cta" href="https://pay.kiwify.com.br/8YYkNbN" target="_blank" rel="nofollow noopener">
    <button class="btn">Liberar Conte√∫do Exclusivo</button>
  </a>
</div>
</div>

<script>
const chat = document.getElementById('chat');
const typing = document.getElementById('typing');
const ctaBar = document.getElementById('finalCTA');
let userName = '';

function addBubble(who, text){
  const row = document.createElement('div');
  row.className = 'row '+who;
  const bubble = document.createElement('div');
  bubble.className = 'bubble';
  bubble.innerHTML = text + `<span class="time">${new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}</span>`;
  row.appendChild(bubble);
  chat.appendChild(row);
  chat.scrollTop = chat.scrollHeight;
}

function showTyping(status){
  typing.textContent='';
  if(status){
    for(let i=0;i<3;i++){
      const dot = document.createElement('span');
      dot.className='typing-dot';
      typing.appendChild(dot);
    }
  }
}

function wait(ms){ return new Promise(r=>setTimeout(r,ms)); }

async function startChat(){
  showTyping(true);
  await wait(1000);
  showTyping(false);
  addBubble('them','Oi, lindooo üòò qual √© o seu nome?');

  // Barra com bot√£o enviar
  const inputWrapper = document.createElement('div');
  inputWrapper.style.display = 'flex';
  inputWrapper.style.marginTop = '6px';

  const nameInput = document.createElement('input');
  nameInput.type = 'text';
  nameInput.placeholder = 'Digite seu nome';
  nameInput.id = 'nameInput';

  const sendBtn = document.createElement('button');
  sendBtn.innerText = '‚û§';
  sendBtn.className = 'send-btn';

  inputWrapper.appendChild(nameInput);
  inputWrapper.appendChild(sendBtn);
  chat.appendChild(inputWrapper);
  nameInput.focus();

  function submitName(){
    if(nameInput.value.trim()==='') return;
    userName = nameInput.value.trim();
    addBubble('me', userName);
    fbq('track','Lead'); // Pixel Lead
    inputWrapper.remove();
    proceedChat();
  }

  sendBtn.onclick = submitName;
  nameInput.addEventListener('keypress', e=>{
    if(e.key==='Enter') submitName();
  });
}

async function proceedChat(){
  showTyping(true);
  await wait(1200);
  showTyping(false);
  addBubble('them',`Hmm adorei o nome, ${userName} üòç j√° tava ansiosa pra falar com voc√™.`);
  showTyping(true);
  await wait(1000);
  showTyping(false);
  addBubble('them',`Ent√£o ${userName}, quer dizer que voc√™ quer ver meu lado mais ousado n√©? Seu safadinho rsrs üòè`);

  showTyping(true);
  await wait(1000);
  showTyping(false);
  addBubble('them','Voc√™ prefere que eu seja mais safadinha üòà ou mais rom√¢ntica üíï?');

  await new Promise(r=>{
    const btn1=document.createElement('button'); btn1.className='option'; btn1.innerText='Safadinha üòè';
    const btn2=document.createElement('button'); btn2.className='option'; btn2.innerText='Rom√¢ntica üíã';
    chat.appendChild(btn1); chat.appendChild(btn2);
    btn1.onclick=()=>{ addBubble('me',btn1.innerText); btn1.remove(); btn2.remove(); r(); showPhotoOption(); };
    btn2.onclick=()=>{ addBubble('me',btn2.innerText); btn1.remove(); btn2.remove(); r(); showPhotoOption(); };
  });
}

async function showPhotoOption(){
  showTyping(true);
  await wait(1200);
  showTyping(false);
  addBubble('them',`E se eu te mandasse uma foto minha agora‚Ä¶ voc√™ bateria uma pra mim? üî•`);
  await new Promise(r=>{
    const btn1=document.createElement('button'); btn1.className='option'; btn1.innerText='Claro que sim üòà';
    const btn2=document.createElement('button'); btn2.className='option'; btn2.innerText='Talvez‚Ä¶ depende da foto üëÄ';
    chat.appendChild(btn1); chat.appendChild(btn2);
    btn1.onclick=()=>{ addBubble('me',btn1.innerText); btn1.remove(); btn2.remove(); showPhoto(); };
    btn2.onclick=()=>{ addBubble('me',btn2.innerText); btn1.remove(); btn2.remove(); showPhoto(); };
  });
}

async function showPhoto(){
  showTyping(true);
  await wait(1200);
  showTyping(false);
  addBubble('them',`<img src="https://i.postimg.cc/L4YPh8xj/Foto2.jpg" style="max-width:100%; border-radius:12px;">`);
  showTyping(true);
  await wait(1200);
  showTyping(false);
  addBubble('them',`Nossa, ${userName}‚Ä¶ fiquei toda animada üòò n√£o vejo a hora de voc√™ ver meu lado mais secreto. Clique abaixo e libere meu conte√∫do exclusivo agora mesmo üî•üí¶`);
  ctaBar.style.display='block';
  document.getElementById('cta').addEventListener('click', ()=>{
    fbq('track', 'InitiateCheckout');
  });
}

startChat();
</script>
</body>
</html>
